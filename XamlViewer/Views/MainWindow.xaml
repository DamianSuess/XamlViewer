<controls:UserWindow x:Class="XamlViewer.Views.MainWindow"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
                     xmlns:ms="clr-namespace:XamlService;assembly=XamlService"
                     xmlns:views="clr-namespace:XamlViewer.Views"
                     xmlns:controls="clr-namespace:XamlTheme.Controls;assembly=XamlTheme"
                     xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
                     xmlns:prism="http://prismlibrary.com/"
                     xmlns:themes="clr-namespace:XamlTheme;assembly=XamlTheme"  
                     prism:ViewModelLocator.AutoWireViewModel="True"
                     Style="{DynamicResource {x:Static themes:ResourceKeys.NormalUserWindowStyleKey}}"
                     WindowStartupLocation="CenterScreen" Height="600" Width="900">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Activated">
            <prism:InvokeCommandAction Command="{Binding ActivatedCommand}"/>
        </i:EventTrigger>
        <i:EventTrigger EventName="Closing">
            <prism:InvokeCommandAction Command="{Binding ClosingCommand}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <controls:UserWindow.TitleBarContent>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <views:ToolbarControl Grid.Row="0"/>
            <TextBlock Grid.Column="1" Margin="5,0" Text="{Binding Title}" Foreground="#717171" FontSize="13" FontWeight="Medium"  VerticalAlignment="Center" HorizontalAlignment="Center" IsHitTestVisible="False"/>
            <controls:StatusToggle x:Name="SettingStatusToggle" Grid.Column="2" Width="37" CheckedToolTip="Back" UnCheckedToolTip="Setting"
                                   IsChecked="{Binding IsExpandSetting, Mode=TwoWay}"
                                   Command="{Binding ExpandOrCollapseCommand}">
                <controls:StatusToggle.CheckedContent>
                    <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=controls:StatusToggle}}" Stretch="Fill" Margin="0,1,0,0" Height="8" Width="12" VerticalAlignment="Center" HorizontalAlignment="Center" 
                      Data="M312.916 658.584l-62.058-62.052 262.174-262.174 260.112 260.174-62.058 62.052-198.054-198.114z"/>
                </controls:StatusToggle.CheckedContent>
                <controls:StatusToggle.UnCheckedContent>
                    <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=controls:StatusToggle}}" Stretch="Fill" Height="13" Width="13" VerticalAlignment="Center" HorizontalAlignment="Center" 
                      Data="M967.111111 568.888889h-118.689185a338.394074 338.394074 0 0 1-58.500741 140.515555l84.119704 84.195556a56.888889 56.888889 0 0 1-80.459852 80.402963l-84.15763-84.195556A339.607704 339.607704 0 0 1 568.888889 848.213333V967.111111a56.888889 56.888889 0 0 1-113.777778 0v-118.897778a339.607704 339.607704 0 0 1-140.534518-58.405926l-84.15763 84.195556a56.888889 56.888889 0 0 1-80.459852-80.402963l84.100741-84.195556A338.375111 338.375111 0 0 1 175.578074 568.888889H56.888889a56.888889 56.888889 0 1 1 0-113.777778h118.689185a338.375111 338.375111 0 0 1 58.481778-140.515555l-84.100741-84.195556a56.888889 56.888889 0 0 1 80.459852-80.402963l84.15763 84.195556A339.607704 339.607704 0 0 1 455.111111 175.786667V56.888889a56.888889 56.888889 0 0 1 113.777778 0v118.897778a339.607704 339.607704 0 0 1 140.534518 58.405926l84.15763-84.195556a56.888889 56.888889 0 0 1 80.459852 80.402963l-84.119704 84.195556A338.394074 338.394074 0 0 1 848.421926 455.111111H967.111111a56.888889 56.888889 0 0 1 0 113.777778zM512 284.444444a227.555556 227.555556 0 1 0 227.555556 227.555556 227.555556 227.555556 0 0 0-227.555556-227.555556z" />
                </controls:StatusToggle.UnCheckedContent>
            </controls:StatusToggle>
        </Grid>
    </controls:UserWindow.TitleBarContent> 
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="{Binding SettingRowHeight}"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*" MinHeight="50"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*" MinHeight="50"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <!--Config-->
        <views:SettingControl MinHeight="100" Margin="6,0"/>
        <!--Document-->
        <views:TabsControl Grid.Row="1" Margin="0,6,0,0" />
        <!--Designer-->
        <ContentControl Grid.Row="2" prism:RegionManager.RegionName="{x:Static ms:RegionNames.DesignerName}"/>
        <GridSplitter Grid.Row="3" Height="2" HorizontalAlignment="Stretch" VerticalAlignment="Center">
            <GridSplitter.Background>
                <LinearGradientBrush EndPoint="1,0">
                    <GradientStop Offset="0" Color="Transparent"/>
                    <GradientStop Offset="0.15" Color="#CED0DC"/>
                    <GradientStop Offset="0.85" Color="#CED0DC"/>
                    <GradientStop Offset="1" Color="Transparent"/>
                </LinearGradientBrush>
            </GridSplitter.Background>
        </GridSplitter>
        <!--Editor-->
        <ContentControl Grid.Row="4" prism:RegionManager.RegionName="{x:Static ms:RegionNames.EditorName}"/>
        <!--Status-->
        <views:StatusControl Grid.Row="5" Height="25" Background="#007ACC"/>
    </Grid>
</controls:UserWindow>
